<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hearts & Flowers Rain</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

  body, html {
    margin: 0; height: 100%; overflow: hidden;
    background: linear-gradient(135deg, #111e2e, #9239c3, #9239c3);
    font-family: 'Poppins', sans-serif;
    color: #e0f7fa;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
  }

  #bg-canvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 0;
    pointer-events: none;
  }

  .center-container {
    position: relative;
    z-index: 1;
    width: 60vw;
    min-width: 320px;
    max-width: 720px;
    padding: 30px 40px;
    margin-top: 15vh;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 25px;
    box-shadow:
      0 0 40px rgba(0,191,255,0.6),
      inset 0 0 30px rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(8px);
    animation: gentleRotate 12s infinite ease-in-out alternate;
    color: #b3e5fc;
    font-size: 1.4rem;
    line-height: 1.6;
    text-align: center;
  }

  @keyframes gentleRotate {
    0% { transform: rotateX(3deg) rotateY(3deg); }
    100% { transform: rotateX(-3deg) rotateY(-3deg); }
  }

  .typing-text {
    white-space: pre-wrap;
    border-right: 2px solid #00bfff;
    padding-right: 5px;
    animation: blinkCursor 0.75s step-end infinite;
    max-height: 60vh;
    overflow-y: auto;
  }
  @keyframes blinkCursor {
    50% { border-color: transparent; }
  }

  /* Buttons directly below message */
  .bottom-buttons {
    display: none; /* hidden until typing finishes */
    margin-top: 20px;
    z-index: 2;
    display: flex;
    justify-content: center;
    gap: 10px;
  }

  .bottom-buttons button {
    padding: 10px 20px;
    background: #00bfff;
    border: none;
    color: white;
    font-size: 1rem;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s ease;
  }

  .bottom-buttons button:hover {
    background: #0099cc;
  }
</style>
</head>

<body>
<canvas id="bg-canvas"></canvas>

<div class="center-container">
  <div id="typing" class="typing-text"></div>
</div>

<div class="bottom-buttons" id="nav-buttons">
  <button onclick="location.href='index.html'">Index</button>
  <button onclick="location.href='page2.html'">Page 2</button>
  <button onclick="location.href='page3.html'">Page 3</button>
  <button onclick="location.href='page5.html'">Page 5</button>
</div>

<script>
  const message = `Dear my favorite one‚ù§Ô∏è,

MY life there is no words in this universe to define you , but still i try to explain the smallest part with this existing words.Your smile makes my world brighter. The way your eyes speak when words fail, and your voice feels like home. You understand my silence. You make even the ordinary feel special.You are the one and only friend greater then a friend(like a family),i want to see my future only with ur happiness. Your laughter is my favorite melody. You never judge me, even at my worst. You complete my incomplete thoughts. You love me in ways I never knew I needed. Your presence turns my bad days good. The way you hold my hand(once that i will never forget‚ù§Ô∏è) makes me feel that i can't explain. You remember the little things about me. You know my fears yet never make me feel weak. Your love feels effortless, yet so deep. The way you listen, even when I ramble. Your heart is as beautiful as your face. You bring out the best in me. Your patience with me, even when I'm difficult. The way you wipe away my tears. You never let me feel alone. Your love makes me believe in forever. You make me feel important without trying. Your kindness makes the world better. The way you say my name sounds different. You are my peace in this chaotic world. The way you trust me without conditions`;

  const typingElement = document.getElementById('typing');
  const navButtons = document.getElementById('nav-buttons');
  let charIndex = 0;

  // Set total display time (2‚Äì3 minutes range)
  const targetTime = 1 * 60 * 1000;
  const perCharDelay = targetTime / message.length;

  function startTyping(){
    if (charIndex < message.length) {
      typingElement.textContent += message[charIndex];
      charIndex++;
      setTimeout(startTyping, perCharDelay);
    } else {
      // Show buttons after typing finishes
      navButtons.style.display = "flex";
    }
  }

  const HEART = 'üíô';
  const FLOWER = 'üå∏';
  class Particle {
    constructor(canvasWidth, canvasHeight) {
      this.canvasWidth = canvasWidth;
      this.canvasHeight = canvasHeight;
      this.reset();
    }
    reset() {
      this.x = Math.random() * this.canvasWidth;
      this.y = -Math.random() * 100;
      this.size = 16 + Math.random() * 20;
      this.speedY = 2.5 + Math.random() * 3.0;
      this.wobble = 0.5 + Math.random() * 1.2;
      this.rotation = Math.random() * Math.PI * 2;
      this.opacity = 0.3 + Math.random() * 0.5;
      this.wobbleAngle = 0;
      this.wobbleSpeed = 0.03 + Math.random() * 0.03;
      this.isHeart = Math.random() > 0.5;
      this.colorHue = this.isHeart ? (190 + Math.random() * 40) : (320 + Math.random() * 30);
    }
    update() {
      this.y += this.speedY;
      this.wobbleAngle += this.wobbleSpeed;
      this.x += Math.sin(this.wobbleAngle) * this.wobble;
      this.rotation += 0.005;
      if (this.y - this.size > this.canvasHeight) this.reset();
    }
    draw(ctx) {
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.rotate(this.rotation);
      ctx.globalAlpha = this.opacity;
      ctx.font = `${this.size}px serif`;
      ctx.fillStyle = `hsl(${this.colorHue}, 70%, 70%)`;
      ctx.fillText(this.isHeart ? HEART : FLOWER, -this.size / 2, this.size / 2);
      ctx.restore();
    }
  }

  function initBackgroundCanvas() {
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');

    function resizeCanvas() {
      canvas.width = window.innerWidth * (window.devicePixelRatio || 1);
      canvas.height = window.innerHeight * (window.devicePixelRatio || 1);
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    const particles = [];
    for (let i = 0; i < 70; i++) {
      particles.push(new Particle(canvas.width, canvas.height));
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => {
        p.update();
        p.draw(ctx);
      });
      requestAnimationFrame(animate);
    }
    animate();
  }

  window.onload = () => {
    initBackgroundCanvas();
    startTyping();
  };
</script>

</body>
</html>
